<h1>Address Form</h1>

<div class="alert alert-info" role="alert">
    Error messages per field and disabled save button until entire form is valid.
</div>

<form (ng-submit)="onSubmit()" [ng-form-model]="form" #f="form">
    <div class="form-group">
        <label for="firstName">First Name</div>
        <input type="text" id="firstName" class="form-control" ng-control="firstName">
        <div class="help-block text-danger" *ng-if="f.form.controls.firstName.touched && !f.form.controls.firstName.valid">First Name is required</div>
    </p>

    <div class="form-group">
        <label for="streetAddress">Street Address</label>
        <input type="text" id="streetAddress" class="form-control" ng-control="streetAddress">
        <div class="help-block text-danger" *ng-if="f.form.controls.streetAddress.touched && !f.form.controls.streetAddress.valid">Street Address is required</div>
    </div>

    <div class="form-group">
        <label for="zip">Zip Code</label>
        <input type="text" id="zip" class="form-control" ng-control="zip">
        <div class="help-block text-danger" *ng-if="f.form.controls.zip.touched && !f.form.controls.zip.valid">Zip code has to be 5 digits long</div>
    </div>

    <div class="form-group">
        <label class="type">Address Type</label>
        <select id="type" class="form-control" ng-control="type">
            <option [value]="'home'">Home Address</option>
            <option [value]="'billing'">Billing Address</option>
        </select>
    </div>
    <button type="submit" class="btn btn-default" [disabled]="!f.form.valid">Save</button>

</form>

<p>
    <div *ng-if="payLoad"><strong>The form contains the following values</strong></div>
    <div>
        {{payLoad}}
    </div>
</p>